local observable = require('rx.observable')
local observer = require('rx.observer')

return function(eventName)
    return observable(function(destination)
        local eventListener = Events.Connect(
            eventName,
            destination.next
        )

        return function()
            --TODO
            -- Verify eventListener is disconnected on complete
            eventListener()
            destination.complete()
        end
    end)
end
