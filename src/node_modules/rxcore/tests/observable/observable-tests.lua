local assert = require('luassert')

local rx = require('rx')
local of = require('rx.observable.of')
local log = require('rx.operators.log')

describe('Observable Basics', function()
    describe('pipe', function()
        it('handles no operator', function()
            local test_ = of('hello')

            test_.pipe().subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)

        it('handles single log operator', function()
            local test_ = of('hello')

            test_.pipe(log()).subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)

        it('handles double log operators', function()
            local test_ = of('hello')

            test_.pipe(log(), log()).subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)
    end)
end)
