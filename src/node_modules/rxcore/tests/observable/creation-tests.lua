local assert = require('luassert')
local rx = require('rx')
local create = require('rx.observable.create')
local of = require('rx.observable.of')

describe('Observable Creation', function()
    describe('create through rx', function()
        it('imitates of operator', function()
            local test_ = rx.observable.create(function(subscriber)
                subscriber.next('hello')
                subscriber.complete()
            end)

            test_.subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)
    end)

    describe('create', function()
        it('imitates of operator', function()
            local test_ = create(function(subscriber)
                subscriber.next('hello')
                subscriber.complete()
            end)

            test_.subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)
    end)

    describe('of', function()
        it('works with a basic string', function()
            local test_ = of('hello')

            test_.subscribe(function(val)
                assert.are.equal('hello', val)
            end)
        end)
    end)
end)
