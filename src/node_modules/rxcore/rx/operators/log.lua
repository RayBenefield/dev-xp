local create = require('rx.observable.create')

return function()
    local operator = function(_)
        return create(function(observer)
            _.subscribe(
                function(...)
                    print(...)
                    observer.next(...)
                end,
                observer.error,
                observer.complete
            )
            return function()
                observer.complete()
            end
        end)
    end

    return operator
end
