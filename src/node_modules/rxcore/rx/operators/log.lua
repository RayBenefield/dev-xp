local createObserver = require('rx.observer.create')

return function()
    return function(source)
        return source.lift(function(destination)
            local next = function(...)
                print(...)
                return destination.next(...)
            end

            local err = function(...)
                return destination.err(...)
            end

            local complete = function(i)
                return destination.complete()
            end

            return createObserver(next, err, complete)
        end)
    end
end
