import * as _ from 'ramda'

export default originalObj => {
    const go = obj =>
        _.chain(([fullPath, value]) => {
            if (_.type(value) === 'Object' || _.type(value) === 'Array')
                return _.map(
                    ([key, newValue]) => [`${fullPath}.${key}`, newValue],
                    go(value)
                )

            return [[fullPath, value]]
        }, _.toPairs(obj))

    return _.fromPairs(go(originalObj))
}
