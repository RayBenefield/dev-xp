import { sync as root } from '@dev-xp/root'
import cc from '@dev-xp/camel-case-keys'
import configureGit from 'simple-git/promise'

const fix = cc.methods(['status'])
const makeGit = () => fix(configureGit(root()))

export const silent = makeGit()

export default makeGit().outputHandler((command, stdout, stderr) => {
    stdout.pipe(process.stdout)
    stderr.pipe(process.stderr)
})
