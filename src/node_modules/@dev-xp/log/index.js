/* eslint-disable no-console */
import { inspect } from 'util'
import * as R from '@dev-xp/utils'

export const log = (..._) => {
    console.log(..._)
    return _[0]
}

export const err = (..._) => {
    console.error(..._)
    return _[0]
}

export const deep = (...args) => {
    const inspectOpts = {
        showHidden: false,
        depth: null,
        colors: true,
        maxArrayLength: null,
    }
    const toPrint = R.intersperse(' ', args)
    const inspectOrNot = _ => (R.isObject(_) ? inspect(_, inspectOpts) : _)
    const formatted = R.map(inspectOrNot, toPrint)

    R.forEach(formatted, _ => process.stdout.write(_))
    console.log()

    return args[0]
}

export const note = (...messages) => _ => {
    log(...messages)
    return _
}
export const label = (...messages) => _ => {
    log(...messages, _)
    return _
}

log.err = err
log.deep = deep
log.note = note
log.label = label

export default log
