import describe from 'kape'
import patchObject from '@dev-xp/patch-object'

const patch = patchObject({
    str: result => result.toUpperCase(),
    promise: result => result.toUpperCase(),
})

const object = {
    str: (str = 'hello') => str,
    promise: (str = 'hello') => Promise.resolve(str),
}

describe('Patch Object with Function', patch(object).str, snapshot => {
    snapshot('String Uppercase', [[], ['test'], ['again']])
})

describe('Patch Object with Promise', patch(object).promise, snapshot => {
    snapshot('Promise Uppercase', [[], ['test'], ['again']])
})
