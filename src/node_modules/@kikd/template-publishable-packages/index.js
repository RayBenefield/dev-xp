const publishableCheck = (publishing, name) =>
    publishing.includes(name)
        ? `<success>${name}</success>`
        : `<fail>${name}</fail>`

const formatPackage = (destination, publishing) => name => `<item>
    <check>
        ${publishableCheck(publishing, name)}
        <attr>
            <key>NPM:</key>
            <value>${destination[name].destVersion}</value>
        </attr>
        <attr>
            <key>Next:</key>
            <value>${destination[name].srcVersion}</value>
        </attr>
    </check>
</item>`

export default () => ({ packageNames, destination, publishing }) => `
    <bar>-</bar>
    <h1>Publishable Packages</h1>
    <bar>-</bar>
    <list>
        ${packageNames.map(formatPackage(destination, publishing)).join('')}
    </list>
`
