import { transmute, isolate } from 'transmutation';

import findPackages from '@kikd/find-packages';
import findRepoRoot from '@kikd/find-repo-root';

export default () =>
    transmute({})
        .extend('root', findRepoRoot)
        .extend('exclude', ['**/fixtures/**'])
        .extend('packages', findPackages)
        .then(isolate('packages'));
