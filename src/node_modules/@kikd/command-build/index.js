import getPackages from '@kikd/command-list';
import buildRollupConfigs from '@kikd/build-rollup-configs';

export default (...args) =>
    getPackages(...args)
        .extend('filtered', ({ packages }) => packages.filter(p => p.bin))
        .extend('configs', snowball =>
            buildRollupConfigs({ ...snowball, packages: snowball.filtered }),
        );
