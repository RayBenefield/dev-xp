import getPublishablePackages from '@kikd/command-publish';
import buildRollupConfigs from '@kikd/build-rollup-configs';

export default (...args) =>
    getPublishablePackages(...args)
        .extend('filtered', ({ publishable }) => publishable.filter(p => p.bin))
        .extend('configs', snowball =>
            buildRollupConfigs({ ...snowball, packages: snowball.filtered }),
        );
