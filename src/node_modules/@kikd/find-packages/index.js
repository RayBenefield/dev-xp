import fs from 'fs';
import { resolve } from 'path';
import promisify from 'es6-promisify';

const lstat = promisify(fs.lstat);

export default ({ root = '.' } = {}) => new Promise(async (res, rej) => {
    try {
        const packagesDir = resolve(root, 'src/node_modules');
        const stats = await lstat(packagesDir);

        if (!stats.isDirectory) return rej('NO');
        return res([]);
    } catch (e) {
        return rej('NO');
    }
});
