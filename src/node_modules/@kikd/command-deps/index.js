import getPackages from '@kikd/command-list'
import template from '@kikd/template-dependencies'
import getDependencies from '@kikd/dependency-list'

export default function dependencies(config) {
    return getPackages(config).extend('dependencies', getDependencies(config))
}

export const command = () => ({
    name: 'dependencies',
    aliases: ['deps', 'dependents'],
    run: dependencies,
    template,
    args: {
        _: 'packageNames',
        publishable: 'onlyPublishable',
        changed: 'onlyChanged',
        releasing: 'changedAndPublishable',
    },
})
