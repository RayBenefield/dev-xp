import { NOFN } from '@dev-xp/noop'

export default ({ plug = NOFN } = {}) => async (
    name = '<undefined>',
    {
        types = {},
        rootManifest = {},
        dependencies = {},
        structures = {},
        manifests = {},
    } = {}
) => ({
    [name]: await plug('config')({
        type: types[name],
        rootManifest,
        dependencies: dependencies[name],
        structure: structures[name],
        manifest: manifests[name],
    }),
})
