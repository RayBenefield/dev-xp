import log from '@dev-xp/log'
import editor from 'external-editor'
import { green, white, grey } from 'chalk'

const wait = ms => new Promise(resolve => setTimeout(resolve, ms))

export default ({
    message = 'Create some contents: ',
    contents = '',
    pause = 2000,
} = {}) => {
    log(
        `${green('?')} ${white.bold(`${message}: `)} ${grey(
            `Opening your editor in ${pause / 1000} secs...`
        )}`
    )
    return wait(pause).then(() => ({ contents: editor.edit(contents) }))
}
