export default async ({
    structure: { files = [] } = {},
    manifest: { main, bin, version } = {},
} = {}) => {
    const hasIndex = files.includes('index.js')
    const checkBins = () => Object.values(bin).every(f => files.includes(f))
    const checks = {
        'has readme file': files.includes('readme.md'),
        'has a version number': !!version,
        ...(hasIndex ? { 'has index': hasIndex } : {}),
        ...(main ? { 'has main': files.includes(main) } : {}),
        ...(bin ? { 'has bin': checkBins() } : {}),
    }

    return { ...checks, publishable: Object.values(checks).every(pass => pass) }
}
