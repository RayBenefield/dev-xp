import { gt as newerThan, valid } from 'semver';

export default ({ destination = {} } = {}) =>
    Object.entries(destination)
        .filter(
            ([, { destVersion, srcVersion }]) =>
                // eslint-disable-next-line no-nested-ternary
                valid(srcVersion)
                    ? valid(destVersion)
                      ? newerThan(srcVersion, destVersion)
                      : true
                    : false,
        )
        .map(([name]) => name);
