import collapse from '@kikd/collapse'
import getJsDetails from '@kikd/package-details-js'

export default ({ root = '.', packageNames = [], structures = {} }) =>
    packageNames
        .map(pkg =>
            getJsDetails({ root, structure: structures[pkg] || {}, name: pkg })
        )
        .reduce(collapse, {})
