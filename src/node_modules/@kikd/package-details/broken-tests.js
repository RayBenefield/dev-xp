import describe from 'kape'
import getPackageDetails from '@kikd/package-details'

describe('Package Details', getPackageDetails, snapshot => {
    process.chdir(__dirname)
    const root = (dir, packages) => ({
        root: `./fixtures/${dir}`,
        packageNames: packages,
    })

    snapshot(
        [root('no-modules')],
        [root('no-package-json', ['no-package-json'])],
        [root('empty-package-json', ['empty-package-json'])],
        [root('one-named-package', ['one-named-package'])],
        [
            root('multiple-packages', [
                'multiple-packages',
                '@multiple-packages/two',
            ]),
        ]
    )
})
