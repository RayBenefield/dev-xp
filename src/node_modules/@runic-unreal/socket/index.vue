<template lang="pug">
.socket(
    :class="[type, socket.name, used ? 'used' : ''] | kebab",
    :title="socket.name+'\\n'+socket.hint"
)
    .inner(:class="[used ? 'used' : '']")
</template>

<script>
import vue from 'rete-vue-render-plugin'

export default {
    extends: vue.Socket,
    props: ['used'],
}
</script>

<style lang="sass" scoped>
$socket-size: 12px
$socket-margin: 10px

.socket
    display: inline-block
    cursor: pointer
    line-height: 10px
    margin: $socket-margin !important
    vertical-align: middle
    background: transparent
    position: relative
    z-index: 2
    box-sizing: border-box

    &:after
        content: ''
        position: absolute
        width: 0
        height: 0
        top: $socket-size/4-2px
        left: $socket-size
        display: inline-block
        border-style: solid
        border-width: $socket-size/4 0 $socket-size/4 $socket-size/6
        border-color: transparent transparent transparent white

    &.multiple
        border-color: yellow

@mixin circle($socket, $color)
    .#{$socket}
        border: 2px solid $color
        border-radius: $socket-size/2.0
        width: $socket-size
        height: $socket-size
        &.used
            background: $color
            &:after
                border-color: transparent transparent transparent transparent
        &:after
            border-color: transparent transparent transparent $color
        &:hover
            border-color: #777

@mixin triangle($socket, $color)
    .#{$socket}
        width: 0
        height: 0
        border-top: 12px solid transparent
        border-bottom: 12px solid transparent
        border-left: 14px solid $color
        border-radius: $socket-size/4.0
        .inner
            position: relative
            top: -6px
            left: -11.5px
            width: 0
            height: 0
            border-top: 6px solid transparent
            border-bottom: 6px solid transparent
            border-left: 7px solid rgb(20, 20, 20)
            &.used
                border-top: 6px solid transparent
                border-bottom: 6px solid transparent
                border-left: 7px solid transparent
        &:hover
            border-top: 12px solid transparent
            border-bottom: 12px solid transparent
            border-left: 14px solid #777

@mixin square($socket, $color)
    .#{$socket}
        border: 2px solid $color
        border-radius: $socket-size/4.0
        width: $socket-size
        height: $socket-size
        &.used
            background: $color
            &:after
                border-color: transparent transparent transparent transparent
        &:after
            border-color: transparent transparent transparent $color
        &:hover
            border-color: #777

@include circle(number, #A2FD42)
@include circle(any, #FFFFFF)
@include circle(boolean, #920000)
@include square(function, #FD393B)

</style>
