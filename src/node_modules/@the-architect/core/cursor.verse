
using. /Fortnite.com/Devices
using. /Verse.org/Simulation
using. /UnrealEngine.com/Temporary/SpatialMath

using. Banding
using. Gooey
using. Tableau

architect_cursor_device<public> := class(tableau_device):
    @editable ResourceID<override>:string = "Architect Cursor"
    @editable CursorProp:?creative_prop = false

    GetResources<override>():[]resource= array:
        resource:
            ID := ResourceID
            Props := map:
                "Column Label" => Str of "Column"
                "Block Label" => Str of "Block"
                "Z" => Integer of (Path(Path("Column ID"), "Height"), "+", ONE())
                "Z+" => Integer of (Path("Z"), "+", ONE())
                "Column ID" => Str of (Path("Column Label"), "Append", Path("Grid", "Location ID"))
                "Partial Location ID" => Str of (Path("Grid", "Location ID"), "Append", COMMA())
                "Block Location ID" => Str of (Path("Partial Location ID"), "Append", Path("Z"))
                "Block ID" => Str of (Path("Block Label"), "Append", Path("Block Location ID"))
                "Column Exists" => Bool of Path(Path("Column ID"), "ID")
                "Block Type" => Str of (Path(Path("Type Selector", "Selection"), "Selection"))
                # "Current Block Location ID" => Str of (Path("Partial Location ID"), "Append", Path(Path("Column ID"), "Height"))
                # "Current Block ID" => Str of (Path("Block Label"), "Append", Path("Current Block Location ID"))
                # "Current Block Type" => Str of Path(Path("Current Block ID"), "Block Type")
                # "Stackable" => Bool of Path(Path(Path("Current Block ID"), "Block Type"), "Stackable")
                # "Base" => Bool of Path(Path("Block Type"), "Base")
                # "No Column" => Bool of ("NOT", Path("Column Exists"))
                # "Placeable Base" => Bool of (Path("Base"), "AND", Path("No Column"))
                # "Placeable Stack" => Bool of (Path("Column Exists"), "AND", Path("Stackable"))
                # "Placeable" => Bool of (Path("Placeable Base"), "OR", Path("Placeable Stack"))
            Actions := map:
                "Place Block" => Action of array:
                    IsTrue("Column Exists").Else("Create Column")
                    # IsTrue("Stackable")
                    Execute(Path("Column ID"), "Add Block")
                "Create Column" => Action of array:
                    # IsTrue("Base")
                    Execute("Column Generator", "Create Column")
                    Execute(Path("Column ID"), "Add Block")
