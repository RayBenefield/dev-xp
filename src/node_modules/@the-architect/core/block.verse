
using. /Fortnite.com/Devices
using. /Verse.org/Simulation
using. /UnrealEngine.com/Temporary/SpatialMath

using. Tableau
using. Vertex

block_device<public> := class(tableau_device):
    @editable ResourceID<override>:string = "Block"
    @editable DefaultBlock:creative_prop_asset = DefaultCreativePropAsset

    GetResources<override>():[]resource= array:
        resource:
            Type := ResourceID
            Props := map:
                "Stackable" => Bool of Path(Path("Block Type"), "Stackable")
                "Base" => Bool of Path(Path("Block Type"), "Base")

    GetSideEffects<override>(State:scoped_state)<suspends>:[]side_effect=
        BlockProp := Spawn(DefaultBlock)
        array:
            PushStr("Block Type", SetMesh(BlockProp, BlockMeshes).FN)
            PushStr("Block Type", SetMaterial(BlockProp, BlockMaterials1, 0).FN)
            PushStr("Block Type", SetMaterial(BlockProp, BlockMaterials2, 1).FN)
            PushStr("Block Type", SetMaterial(BlockProp, BlockMaterials3, 2).FN)
            PushVec3("Location", SetLocation(BlockProp).FN)
