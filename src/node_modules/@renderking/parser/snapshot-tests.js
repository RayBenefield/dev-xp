import describe from 'kape';
import parser, { king } from '@renderking/parser';

describe('Render King Parser', parser, snapshot => {
    snapshot(
        [],
        [''],
        ['a'],
        ['<'],
        ['>'],
        ['asdf'],
        ['<nottag>'],
        ['<tag/>'],
        ['<bar/>'],
        ['<test_underscore/>'],
        ['<not tag/>'],
        ['<multiple/><tags/>'],
        ['<multiple/><tags/>After Strings'],
        ['Before Strings<multiple/><tags/>'],
        ['<multiple/>Between Strings<tags/>'],
        ['<multiple/>With < Less Than<tags/>'],
        ['<nottag>With strings<stillnotag>'],
        ['<tagbefore/><nottag>With<tagbetween/><stillnotag><tagafter/>'],
    );
});

describe('King ltag', king.ltag.parse.bind(king.ltag), snapshot => {
    snapshot([''], ['a'], ['>'], ['<']);
});

describe('King rtag', king.rtag.parse.bind(king.rtag), snapshot => {
    snapshot([''], ['a'], ['<'], ['>']);
});

describe('King close', king.close.parse.bind(king.close), snapshot => {
    snapshot([''], ['a'], ['<'], ['>'], ['/']);
});

describe('King not', king.not.parse.bind(king.not), snapshot => {
    snapshot(
        ['<'],
        ['<after'],
        [''],
        ['a'],
        ['>'],
        ['/'],
        ['before<'],
        ['before<after'],
    );
});

describe(
    'King identifier',
    king.identifier.parse.bind(king.identifier),
    snapshot => {
        snapshot(
            ['<'],
            ['<after'],
            [''],
            ['>'],
            ['/'],
            ['before<'],
            ['before<after'],
            ['1start_with_number'],
            ['a'],
            ['identifier'],
            ['with_underscore'],
            ['include_numb3rs'],
        );
    },
);

describe('King empty', king.empty.parse.bind(king.empty), snapshot => {
    snapshot(
        ['<'],
        ['<after'],
        [''],
        ['>'],
        ['/'],
        ['before<'],
        ['before<after'],
        ['1start_with_number'],
        ['a'],
        ['identifier'],
        ['with_underscore'],
        ['include_numb3rs'],
        ['<open>'],
        ['</closed>'],
        ['<empty/>'],
    );
});
