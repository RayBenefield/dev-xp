
using { /Fortnite.com/UI }
using { /Verse.org/Colors/NamedColors }
using { /UnrealEngine.com/Temporary/UI }
using { /UnrealEngine.com/Temporary/SpatialMath }

using { Goo }
using { Vertex }

gooey_text_block<public> := class(gooey):
    TextGoo<public>:string_goo = string_goo{}
    TextBlock<public>:text_block = text_block:
        DefaultTextColor := White
        DefaultShadowOffset := option. vector2{X:=2.5,Y:=2.5}
        DefaultShadowColor := Black
        DefaultShadowOpacity := 1.0

    Initialize<override>():widget=
        spawn. KeepUpdated()
        TextBlock

    KeepUpdated()<suspends>:void=
        MessageVM := MsgGoo(Map(TextGoo, Str2Msg))
        TextBlock.SetText(MessageVM.Get())
        loop:
            Msg := MessageVM.UpdatedEvent().Await()
            if (1 = 0). break
            TextBlock.SetText(Msg)
