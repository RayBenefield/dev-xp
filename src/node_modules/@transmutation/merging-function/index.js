import * as _ from '@dev-xp/utils'

// eslint-disable-next-line complexity
const merger = (obj, value) => {
    if (!value) return obj
    if (!obj) return value
    if (Array.isArray(obj) && Array.isArray(value)) return [...obj, ...value]
    if (Array.isArray(obj) && !Array.isArray(value)) return [...obj, value]
    if (_.isObject(obj) && !_.isObject(value)) return obj
    if (_.isObject(obj) && Array.isArray(value)) return obj
    if (_.isObject(obj) && _.isObject(value)) return _.mergeWith(merger, obj, value)

    return obj
}

export default merger
