using { Tableau }

is_true_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Source:string, Activator:string, Focus:prop_path, Pay:load):?[]command=
        ResourceID := if (ID := Focus.ResourceID?). ID else. Source
        ParticipantID := Activator
        PropertyID := Focus.PropertyID

        if (GSResource := GameState.Resources[ResourceID]):
            PropType := GSResource.PropTypes[PropertyID] or prop_type.Unknown
            Prop := GameState.GetBoolProp(ResourceID, PropertyID, ParticipantID)
            Value := Prop.Latest

            if (Value?). return option. array{}

        return false
