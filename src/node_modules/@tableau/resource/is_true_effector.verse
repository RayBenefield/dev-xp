using { Tableau }

is_true_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Command:command, Pay:load)<suspends>:?command=
        ResourceID := Command.Subject
        ParticipantID := Command.Target
        PropertyID := Pay.Str

        if (GSResource := GameState.Resources[ResourceID]):
            PropType := GSResource.PropTypes[PropertyID] or prop_type.Unknown
            Prop := GameState.GetBoolProp(ResourceID, PropertyID, ParticipantID)
            Value := Prop.Get()

            if (Value?). return option. Command else. return false

        return option. Command
