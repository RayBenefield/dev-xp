using { Tableau }

execute_ability_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Command:command, Payload:payload)<suspends>:command=
        ResourceID := Command.Subject
        ParticipantID := Command.Target
        AbilityID := Payload.Str

        if (Ability := GameState.Resources[ResourceID].Abilities[AbilityID]):
            Action := Ability.ActionFor(ParticipantID).ExecutePayload(Command.Payload)

        return Command
