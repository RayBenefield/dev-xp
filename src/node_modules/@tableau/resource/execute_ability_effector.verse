using { Tableau }

execute_ability_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Source:string, Activator:string, Focus:prop_path, Pay:load):?[]command=
        ResourceID := if (ID := Focus.ResourceID?). ID else. Source
        ParticipantID := Activator
        AbilityID := Focus.PropertyID

        if (Ability := GameState.Resources[ResourceID].Abilities[AbilityID]):
            Ability.ActionFor(ParticipantID).ExecutePay(Pay)

        return option. array{}
