using { Tableau }

increase_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Command:command, Payload:payload)<suspends>:command=
        ResourceID := Command.Subject
        ParticipantID := Command.Target
        Magnitude := Command.Payload.Num
        Source := if (Num := GameState.Resources[ResourceID].Props.Nums[Payload.Str]):
            Num.ValueFor(ParticipantID).Get()
        else. num. Value := Payload.Float

        return command:
            CopyCommand<constructor>(Command)
            Payload := payload. Num := Magnitude + Source
