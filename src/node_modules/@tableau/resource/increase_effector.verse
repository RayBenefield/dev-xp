using { Tableau }

increase_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Command:command, Pay:load)<suspends>:?command=
        ResourceID := Command.Subject
        ParticipantID := Command.Target
        PropertyID := Pay.Str
        Magnitude := Command.Pay.Num
        Source :=  if (Pay.Str <> ""):
            GameState.GetNumProp(ResourceID, PropertyID, ParticipantID).Get()
        else. num. Value := Pay.Float

        NewCommand := command:
            CopyCommand<constructor>(Command)
            Pay := load. Num := Magnitude + Source
        return option. NewCommand
