
using. Numb
using. Tableau

Decrease<public><constructor>(Focus:string) := effect. Decrease<constructor>(Path(Focus))
Decrease<public><constructor>(ResID:string, PropID:string) := effect. Decrease<constructor>(Path(ResID, PropID))
Decrease<public><constructor>(ResID:half_path, PropID:string) := effect. Decrease<constructor>(Path(ResID, PropID))
Decrease<public><constructor>(ResID:string, PropID:half_path) := effect. Decrease<constructor>(Path(ResID, PropID))
Decrease<public><constructor>(ResID:half_path, PropID:half_path) := effect. Decrease<constructor>(Path(ResID, PropID))
Decrease<public><constructor>(Focus:half_path) := effect{ FN := "Decrease", Focus := Focus }

Increase<public><constructor>(Focus:string) := effect. Increase<constructor>(Path(Focus))
Increase<public><constructor>(ResID:string, PropID:string) := effect. Increase<constructor>(Path(ResID, PropID))
Increase<public><constructor>(ResID:half_path, PropID:string) := effect. Increase<constructor>(Path(ResID, PropID))
Increase<public><constructor>(ResID:string, PropID:half_path) := effect. Increase<constructor>(Path(ResID, PropID))
Increase<public><constructor>(ResID:half_path, PropID:half_path) := effect. Increase<constructor>(Path(ResID, PropID))
Increase<public><constructor>(Focus:half_path) := effect{ FN := "Increase", Focus := Focus }

sign<public> := enum{ Positive, Negative }
adjust_effector<public> := class(effector):
    GameState<public>:game_state
    Sign<public>:sign = sign.Positive

    Play<override>(Source:string, Activator:string, Focus:prop_path, Tweak:prop_path)<suspends>:?[]command=
        ResourceID := Focus.ResourceID
        PlayerID := Activator
        PropertyID := Focus.PropertyID
        Prop := GameState.GetNumProp(Focus, PlayerID)
        StartingValue := Prop.Get()
        ModifierValue := GameState.GetNumProp(Tweak, PlayerID).Get()
        SignValue := if (Sign = sign.Negative). -1 else. 1
        SignedModifier := ModifierValue * SignValue

        Prop.Set(StartingValue + SignedModifier)
        return option. array{}
