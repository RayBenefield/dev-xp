using { Tableau }

get_property_effector<public> := class(effector):
    GameState<public>:game_state

    Play<override>(Command:command, Payload:payload)<suspends>:command=
        if:
            ResourceID := Command.Subjects[0]
            ParticipantID := Command.Targets[0]
            Prop := GameState.Resources[ResourceID].Properties[Payload.Str]
        then:
            Value := Prop.ValueFor(ParticipantID).Get()
            return command:
                CopyCommand<constructor>(Command)
                Magnitudes := array. Value
        return Command
