
using { /Fortnite.com/Devices }
using { /Verse.org/Simulation }

using { Tableau }

resource_property_hud<public> := class(creative_device, tableau_device):
    @editable ResourceID:int = 0
    ToMessage<localizes>(Name:string, Count:string):message := "{Name}: {Count}"

    Init<override>(GameState:game_state)<suspends>:void=
        GameState.AddHUD("Resource Count HUD", SetupHUD)

    SetupHUD(GameState:game_state, ParticipantID:int):game_hud=
        resource_ui:
            VM := if:
                Name := GameState.Resources[ResourceID].StaticProperties["Name"]
                Count := GameState.Resources[ResourceID].Properties["Count"]
            then:
                gooey_message. VM := Computed(Name, Count.ValueFor(ParticipantID), ToMessage)
            else:
                gooey_message{}
