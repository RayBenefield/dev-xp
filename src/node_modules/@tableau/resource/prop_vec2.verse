
using. /Verse.org/Simulation
using. /UnrealEngine.com/Temporary/SpatialMath

using. Goo

AppendFloats(X:float, Y:float)<transacts>:vector2= vector2{ X := X, Y := Y }

Vec2<public><constructor>(Default:vector2)<transacts> := prop_vec2. Default := Default
Vec2<public><constructor>(Focus:half_path)<transacts> := prop_vec2. Focus := Focus
Vec2<public><constructor>(Focus:prop_path)<transacts> := prop_vec2. Focus := Focus.ToPath()
Vec2<public><constructor>(Focus:half_path, FN:string)<transacts> := prop_vec2{ Focus := Focus, FN := FN }
Vec2<public><constructor>(FN:string, Focus:half_path)<transacts> := prop_vec2{ Focus := Focus, FN := FN }
Vec2<public><constructor>(Focus:half_path, FN:string, Tweak:half_path)<transacts> := prop_vec2{ Focus := Focus, FN := FN, Tweak := Tweak }
MaybeVec2<public><constructor>(Focus:?prop_path)<transacts> := prop_vec2. Focus := Focus?.ToPath() or EmptyPath()

PropVec2<public><constructor>(ResourceID:string, PropertyID:string, Type:prop_type)<transacts> := prop_vec2{ Focus := Path(ResourceID, PropertyID), Type := Type }
prop_vec2<public> := class<concrete>(prop):
    @editable Type<override>:prop_type = prop_type.Vec2Type
    @editable Default<public>:vector2 = vector2{}
    ValueFor<public>(State:scoped_state):vec2_goo= case(FN):
        "Append" => Vec2Goo(Computed(State.ToFloat(Focus), State.ToFloat(Tweak), AppendFloats))
        _ => case(Type):
            _ => if (not Focus.Empty[]). State.ToVec2(Focus)
            else. Vec2Goo(Default)
