
using. Tableau

IsTrue<public><constructor>(Focus:string) := effect. IsTrue<constructor>(Path(Focus))
IsTrue<public><constructor>(ResID:string, PropID:string) := effect. IsTrue<constructor>(Path(ResID, PropID))
IsTrue<public><constructor>(ResID:half_path, PropID:string) := effect. IsTrue<constructor>(Path(ResID, PropID))
IsTrue<public><constructor>(ResID:string, PropID:half_path) := effect. IsTrue<constructor>(Path(ResID, PropID))
IsTrue<public><constructor>(ResID:half_path, PropID:half_path) := effect. IsTrue<constructor>(Path(ResID, PropID))
IsTrue<public><constructor>(Focus:half_path) := effect{ FN := "Is True", Focus := Focus }

IsFalse<public><constructor>(Focus:string) := effect. IsFalse<constructor>(Path(Focus))
IsFalse<public><constructor>(ResID:string, PropID:string) := effect. IsFalse<constructor>(Path(ResID, PropID))
IsFalse<public><constructor>(ResID:half_path, PropID:string) := effect. IsFalse<constructor>(Path(ResID, PropID))
IsFalse<public><constructor>(ResID:string, PropID:half_path) := effect. IsFalse<constructor>(Path(ResID, PropID))
IsFalse<public><constructor>(ResID:half_path, PropID:half_path) := effect. IsFalse<constructor>(Path(ResID, PropID))
IsFalse<public><constructor>(Focus:half_path) := effect{ FN := "Is False", Focus := Focus }

check_effector<public> := class(effector):
    GameState<public>:game_state
    CheckFalse<public>:logic = false

    Play<override>(Source:string, Activator:string, Focus:prop_path, Tweak:prop_path)<suspends>:?[]command=
        ResourceID := Focus.ResourceID
        PlayerID := Activator
        PropertyID := Focus.PropertyID
        Value := GameState.GetBoolProp(Focus, PlayerID).Latest

        if (Value?):
            if (not CheckFalse?). return option. array{}
        else:
            if (CheckFalse?). return option. array{}

        return false
