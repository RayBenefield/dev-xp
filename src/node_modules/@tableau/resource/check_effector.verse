using. Tableau

check_effector<public> := class(effector):
    GameState<public>:game_state
    CheckFalse<public>:logic = false

    Play<override>(Source:string, Activator:string, Focus:prop_path, Pay:load):?[]command=
        ResourceID := if (ID := Focus.ResourceID?). ID else. Source
        PlayerID := Activator
        PropertyID := Focus.PropertyID

        if (GSResource := GameState.Resources[ResourceID]):
            PropType := GameState.ResourceRepository.GetPropTypes[ResourceID][PropertyID] or prop_type.Unknown
            Prop := GameState.GetBoolProp(ResourceID, PropertyID, PlayerID)
            Value := Prop.Latest

            if (Value?):
                if (CheckFalse?):
                    return false
                else:
                    return option. array{}
            else:
                if (CheckFalse?):
                    return option. array{}
                else:
                    return false

        return false
