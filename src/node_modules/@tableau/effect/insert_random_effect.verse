
using. /Verse.org/Random

InsertRandom<public><constructor>(Focus:string)<transacts> := effect. InsertRandom<constructor>(Path(Focus))
InsertRandom<public><constructor>(ResID:string, PropID:string)<transacts> := effect. InsertRandom<constructor>(Path(ResID, PropID))
InsertRandom<public><constructor>(ResID:half_path, PropID:string)<transacts> := effect. InsertRandom<constructor>(Path(ResID, PropID))
InsertRandom<public><constructor>(ResID:string, PropID:half_path)<transacts> := effect. InsertRandom<constructor>(Path(ResID, PropID))
InsertRandom<public><constructor>(ResID:half_path, PropID:half_path)<transacts> := effect. InsertRandom<constructor>(Path(ResID, PropID))
InsertRandom<public><constructor>(Focus:half_path)<transacts> := effect{ FN := "Insert Random", Focus := Focus }

InsertRandomEffect<public>(Focus:half_path, Tweak:half_path, State:scoped_state)<suspends>:?string=
    Prop := State.ToStrs(Focus)
    Items := Prop.Get()
    ItemList := State.ToStrs(Tweak).Get()
    RandomIndex := GetRandomInt(0, ItemList.Length-1)
    ItemToInsert := ItemList[RandomIndex] or ""
    NewItems := Items + array. ItemToInsert
    State.SetStrs(Focus, NewItems)
    return false
