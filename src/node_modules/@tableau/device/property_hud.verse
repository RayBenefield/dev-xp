
using. /Fortnite.com/Devices
using. /Verse.org/Simulation
using. /UnrealEngine.com/Temporary/UI

using. Goo
using. Gooey
using. Tableau

property_hud<public> := class(creative_device, tableau_device):
    @editable ResourceID:string = ""
    @editable PropertyID:string = ""
    @editable Label:string = ""
    @editable Interactable:logic = false
    @editable HUDSettings:canvas_settings = canvas_settings{}
    CombineString(ID:string, Value:string):string := "{ID}: {Value}"

    Init<override>(GameState:game_state)<suspends>:void=
        GameState.AddHUD("Property HUD", SetupHUD, HUDSettings, ?Clickable := Interactable)

    SetupHUD(GameState:game_state, PlayerID:string):widget=
        PropVM := GameState.GetStrProp(ResourceID, PropertyID, PlayerID)
        LabelVM := StrGoo(Label)
        Combined := StrGoo(Computed(LabelVM, PropVM, CombineString))
        MustInit := gooey_text_block. TextGoo := Combined
        MustInit.Initialize()
