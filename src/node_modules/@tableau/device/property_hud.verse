
using. /Fortnite.com/UI
using. /Fortnite.com/Devices
using. /Verse.org/Simulation

using. Gooey
using. Tableau
using. Vertex

With<public><constructor>(Label:string) := with_label. Label := Label
with_label<public> := class():
    Label<public>:string
    FN<public>(Value:string):string = "{Label}: {Value}"

property_hud<public> := class(creative_device, side_effect_device):
    @editable ResourceID:string = ""
    @editable PropertyID:string = ""
    @editable Label:string = ""
    @editable HUDSettings:canvas_settings = canvas_settings{}

    GetResourceID<override>()<computes>:?string= option. ResourceID
    GetPerType<override>()<computes>:?string= false
    GetPerSubType<override>()<computes>:?string= option. "Player"
    GetSideEffects<override>(State:scoped_state)<suspends>:[]side_effect=
        Widget := WhiteText()
        State.GameState.AddUI(Widget, State.PlayerID, HUDSettings)

        array:
            PushMsg(PropertyID, With(Label).FN, Widget.SetText)
            # Debug(PropertyID, Label)
