
using. /Fortnite.com/Devices
using. /Verse.org/Simulation

using. Numb

demo_config<public> := class(creative_device, config_device):
    GetResources<override>():[]resource= array:
        resource:
            ID := "Wood"
            Props := map:
                "Count" => prop_num{}
        resource:
            ID := "Golden Tree"
            Actions := map:
                "Harvest" => Action of array:
                    effect{ FN := "Increase", Focus := Path("Wood", "Count"), Tweak := ONE() }
        resource:
            ID := "Basic Tree"
            Props := map:
                "Max" => prop_float. Default := 15.0
                "Respawn" => prop_float. Default := 3.0
                "Count" => prop_num. Default := num. Value := 15.0
                "Harvest Rate" => prop_num. Default := num. Value := 5.0
                "Bonus" => prop_num. Default := num. Value := 1.0
                "Cost" => prop_num. Default := num. Value := 500.0
                "Has Wood" => Bool of (Path("Count"), ">=", ONE())
                "Can Afford" => Bool of (Path("Gold", "Count"), ">=", Path("Cost"))
                "With Bonus" => prop_num{ Focus := Path("Harvest Rate"), FN := "Multiply", Tweak := Path("Bonus") }
            Actions := map:
                "Harvest" => Action of array:
                    effect{ FN := "Is True", Focus := Path("Has Wood") }
                    effect{ FN := "Decrease", Focus := Path("Count"), Tweak := Path("Harvest Rate") }
                    effect{ FN := "Increase", Focus := Path("Wood", "Count"), Tweak := Path("With Bonus") }
                    effect{ FN := "Is False", Focus := Path("Has Wood") }
                    effect{ FN := "Execute Action", Focus := Path("Respawn") }
                "Respawn" => Action of array:
                    effect{ FN := "Delay", Tweak := Path("Respawn") }
                    effect{ FN := "Increase", Focus := Path("Count"), Tweak := Path("Max") }
                "Upgrade" => Action of array:
                    effect{ FN := "Is True", Focus := Path("Can Afford") }
                    effect{ FN := "Decrease", Focus := Path("Gold", "Count"), Tweak := Path("Cost") }
                    effect{ FN := "Increase", Focus := Path("Bonus"), Tweak := ONE() }
