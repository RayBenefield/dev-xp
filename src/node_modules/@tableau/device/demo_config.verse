
using. /Fortnite.com/Devices
using. /Verse.org/Simulation

using. Numb
using. Tableau
using. TableauResource

demo_config<public> := class(creative_device, config_device):
    GetResources<override>():[]resource= array:
        resource:
            ID := "Wood"
            Props := map:
                "Count" => prop_num{}
        resource:
            ID := "Golden Tree"
            Props := map:
                "ONE" => prop_float. Default := 1.0
            Abilities := map:
                "Harvest" => array:
                    effect{ FN := "Increase", Focus := Path("Wood", "Count"), Pay := Load(Path("ONE")) }
        resource:
            ID := "Basic Tree"
            Props := map:
                "ONE" => prop_float. Default := 1.0
                "Max" => prop_float. Default := 15.0
                "Respawn" => prop_float. Default := 3.0
                "Count" => prop_num. Default := num. Value := 15.0
                "Harvest Rate" => prop_num. Default := num. Value := 5.0
                "Bonus" => prop_num. Default := num. Value := 1.0
                "Cost" => prop_num. Default := num. Value := 500.0
                "Has Wood" => prop_bool{ Focus := Path("Count"), FN := ">=", Tweak := Path("ONE") }
                "Can Afford" => prop_bool{ Focus := Path("Gold", "Count"), FN := ">=", Tweak := Path("Cost") }
                "With Bonus" => prop_num{ Focus := Path("Harvest Rate"), FN := "Multiply", Tweak := Path("Bonus") }
            Abilities := map:
                "Harvest" => array:
                    effect{ FN := "Is True", Focus := Path("Has Wood") }
                    effect{ FN := "Decrease", Focus := Path("Count"), Pay := Load(Path("Harvest Rate")) }
                    effect{ FN := "Increase", Focus := Path("Wood", "Count"), Pay := Load(Path("With Bonus")) }
                    effect{ FN := "Is False", Focus := Path("Has Wood") }
                    effect{ FN := "Execute Ability", Focus := Path("Respawn") }
                "Respawn" => array:
                    effect{ FN := "Delay", Pay := Load(Path("Respawn")) }
                    effect{ FN := "Increase", Focus := Path("Count"), Pay := Load(Path("Max")) }
                "Upgrade" => array:
                    effect{ FN := "Is True", Focus := Path("Can Afford") }
                    effect{ FN := "Decrease", Focus := Path("Gold", "Count"), Pay := Load(Path("Cost")) }
                    effect{ FN := "Increase", Focus := Path("Bonus"), Pay := Load(Path("ONE")) }
