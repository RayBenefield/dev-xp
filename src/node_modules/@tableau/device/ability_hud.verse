
using. /Fortnite.com/UI
using. /Fortnite.com/Devices
using. /Verse.org/Simulation
using. /UnrealEngine.com/Temporary/UI

using. Gooey
using. Tableau

ability_hud<public> := class(creative_device, tableau_device):
    @editable ResourceID:string = ""
    @editable AbilityID:string = ""
    @editable EnabledPropertyID:string = ""
    @editable Label:string = ""
    @editable HUDSettings:canvas_settings = canvas_settings{}

    Init<override>(GameState:game_state)<suspends>:void=
        GameState.AddHUD("Ability HUD", SetupHUD, HUDSettings, ?Clickable := true)

    SetupHUD(GameState:game_state, PlayerID:string):widget=
        Button := gooey_button:
            DefaultText := Label
            EnabledGoo := GameState.GetBoolProp(ResourceID, EnabledPropertyID, PlayerID)
            Action := GameState.GetAbility(ResourceID, AbilityID, PlayerID)
        Button.Initialize()
