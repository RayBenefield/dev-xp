
using. /Verse.org/Simulation
using. /Fortnite.com/Devices

using. Gooey
using. Tableau

ability_hud<public> := class(creative_device, side_effect_device):
    @editable ResourceID:string = ""
    @editable AbilityID:string = ""
    @editable EnabledPropertyID:string = ""
    @editable Label:string = ""
    @editable HUDSettings:canvas_settings = canvas_settings{}

    GetResourceID<override>()<computes>:?string= option. ResourceID
    GetPerType<override>()<computes>:?string= false
    GetPerSubType<override>()<computes>:?string= option. "Player"
    GetSideEffects<override>(GameState:game_state, TypeID:string, PlayerID:string)<suspends>:[]side_effect=
        Action := GameState.GetAbilityExec(ResourceID, AbilityID, PlayerID)
        Button := RegularButton(Label, Action)
        GameState.AddUI(Button, PlayerID, HUDSettings)

        array:
            PushBool(EnabledPropertyID, Button.SetEnabled)

