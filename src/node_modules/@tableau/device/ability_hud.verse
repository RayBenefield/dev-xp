
using. /Verse.org/Simulation
using. /Fortnite.com/Devices

using. Gooey

action_hud<public> := class(tableau_device):
    @editable ResourceID<override>:string = ""

    @editable ActionID:string = ""
    @editable EnabledPropertyID:string = ""
    @editable Label:string = ""
    @editable HUDSettings:canvas_settings = canvas_settings{}

    GetSideEffects<override>(State:scoped_state)<suspends>:[]side_effect=
        Button := RegularButton(Label)
        State.AttachAction(ActionID, Button.OnClick())
        State.GameState.AddUI(Button, State.PlayerID, HUDSettings)

        array:
            PushBool(EnabledPropertyID, SetEnabled(Button).FN)

