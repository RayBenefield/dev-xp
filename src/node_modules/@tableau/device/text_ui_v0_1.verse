
using. /Verse.org/Simulation

using. Gooey

text_ui_v0_1<public> := class(tableau_device):
    DeviceType<override>:string = "TEXT UI"

    @editable Prefix:str_plug = str_plug{}
    @editable Base:str_plug = str_plug{}
    @editable Suffix:str_plug = str_plug{}
    @editable Visibility:bool_plug = bool_plug. Default := true
    @editable Position:canvas_settings = canvas_settings{}

    GetResources<override>():[]resource= array. resource:
        Props := map:
            "Prefix" => Str of Prefix
            "Base" => Str of Base
            "Suffix" => Str of Suffix
            "Front" => Str of (Path("Prefix"), "Append", Path("Base"))
            "Value" => Str of (Path("Front"), "Append", Path("Suffix"))
            "Visibility" => Bool of Visibility

    GetSideEffects<override>(State:scoped_state)<suspends>:[]side_effect=
        Widget := WhiteText()
        array:
            PushMsg("Value", SetText(Widget).FN)
            PushBool("Visibility", SetVisibility(Widget).FN)
            BindWidget(Widget, Position)
