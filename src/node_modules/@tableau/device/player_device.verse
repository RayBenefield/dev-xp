
using. /Fortnite.com/Devices
using. /Verse.org/Simulation
using. /Fortnite.com/Characters

using. Tableau

CreatePlayerResource<constructor>(ID:int, Agent:agent)<transacts> := resource:
    ID := "Player{ID}"
    Type := "Player"
    Props := map:
        "Possessed By" => UEAgent of option. Agent

player_device := class(tableau_device):
    @editable FreezePlayers:logic = true
    @editable HidePlayers:logic = true

    GetResources<override>():[]resource=
        Agents := GetPlayspace().GetPlayers()
        for(ID->Agent:Agents):
            HidePlayer(Agent)
            CreatePlayerResource(ID+1, Agent)

    HidePlayer(Agent:agent):void=
        if (Char := Agent.GetFortCharacter[]):
            StasisArgs := stasis_args:
                AllowTurning := false
                AllowFalling := false
                AllowEmotes := false
            if(FreezePlayers?). Char.PutInStasis(StasisArgs)
            if(HidePlayers?). Char.Hide()
