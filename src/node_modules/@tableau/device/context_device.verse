
using. /Fortnite.com/Devices
using. /Verse.org/Simulation

using. Vertex

CreateContextResource<public>(ID:string, Context:prop_path, Actions:[]string):resource= resource:
    ID := ID
    # TODO: Allow recontextualizing props, requires generic prop referencing (no type constructor needed)
    Props := map{ "Context" => Str of Context }
    Actions := CreateMap of for(AID:Actions). (AID, Action of (Path("Context"), AID))

context_device<public> := class(tableau_device):
    @editable ResourceID<override>:string = "Context"
    @editable ContextSource<public>:prop_path = prop_path{}
    @editable Actions<public>:[]string = array{}

    GetResources<override>():[]resource= array. CreateContextResource(ResourceID, ContextSource, Actions)
