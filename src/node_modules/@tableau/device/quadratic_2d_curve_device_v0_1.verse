
using. /Verse.org/Simulation

quadratic_2d_curve_device_v0_1<public> := class(tableau_device):
    DeviceType<override>:string = "QUADRATIC 2D CURVE"

    @editable Start:vec2_plug = vec2_plug{}
    @editable Control:vec2_plug = vec2_plug{}
    @editable End:vec2_plug = vec2_plug{}
    @editable Delta:float_plug = float_plug{}

    GetResources<override>():[]resource= array. resource:
        Props := map:
            "Start" => Vec2 of Start
            "Control" => Vec2 of Control
            "End" => Vec2 of End
            "Delta" => Float of Delta
            "StartToControlXs" => Vec2 of (Path("Start"), "Only Xs", Path("Control"))
            "StartToControlYs" => Vec2 of (Path("Start"), "Only Ys", Path("Control"))
            "ControlToEndXs" => Vec2 of (Path("Control"), "Only Xs", Path("End"))
            "ControlToEndYs" => Vec2 of (Path("Control"), "Only Ys", Path("End"))
            "StartToControlLerpX" => Float of (Path("StartToControlXs"), "Lerp", Path("Delta"))
            "StartToControlLerpY" => Float of (Path("StartToControlYs"), "Lerp", Path("Delta"))
            "ControlToEndLerpX" => Float of (Path("ControlToEndXs"), "Lerp", Path("Delta"))
            "ControlToEndLerpY" => Float of (Path("ControlToEndYs"), "Lerp", Path("Delta"))
            "FinalXs" => Vec2 of (Path("StartToControlLerpX"), "Append", Path("ControlToEndLerpX"))
            "FinalYs" => Vec2 of (Path("StartToControlLerpY"), "Append", Path("ControlToEndLerpY"))
            "FinalX" => Float of (Path("FinalXs"), "Lerp", Path("Delta"))
            "FinalY" => Float of (Path("FinalYs"), "Lerp", Path("Delta"))
            "Point" => Vec2 of (Path("FinalX"), "Append", Path("FinalY"))
