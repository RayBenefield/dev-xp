
using { /Fortnite.com/UI }
using { /Verse.org/Simulation }
using { /Verse.org/Colors/NamedColors }
using { /UnrealEngine.com/Temporary/UI }
using { /UnrealEngine.com/Temporary/SpatialMath }

using { Tableau }
using { TableauResource }

buy_producer_ui<public> := class():
    VM<public>:producer_pos_vm

    Initialize<public>():[]widget =
        CostTextBlock := WhiteText()
        CountTextBlock := WhiteText()
        ProdTextBlock := WhiteText()
        ActualButton := button_regular{}

        BuyButton := responsive_button:
            GooeyText := VM.Name
            GooeyEnabled := VM.Affordable
            Button := ActualButton
            Action := VM.Buy
        CostText := responsive_text_block:
            GooeyText := VM.Cost
            TextBlock := CostTextBlock
        CountText:= responsive_text_block:
            GooeyText := VM.Count
            TextBlock := CountTextBlock
        ProdText := responsive_text_block:
            GooeyText := VM.Production
            TextBlock := ProdTextBlock

        spawn. BuyButton.Initialize()
        spawn. CostText.Initialize()
        spawn. CountText.Initialize()
        spawn. ProdText.Initialize()

        return array:
            ActualButton
            CostTextBlock
            CountTextBlock
            ProdTextBlock

producer_pos_ui<public> := class(game_hud):
    VMs<public>:[]producer_pos_vm

    Initialize<override>():widget=
        ProducerUIs:[]buy_producer_ui = for(VM:VMs). buy_producer_ui. VM := VM
        Widgets:[]widget = Concatenate(for(ProducerUI:ProducerUIs). ProducerUI.Initialize())
        stack_box:
            Orientation := orientation.Vertical
            Slots := for(Widget:Widgets):
                stack_box_slot:
                    Widget := Widget
                    HorizontalAlignment := horizontal_alignment.Left
