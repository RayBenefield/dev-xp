
using. /Verse.org/Assets
using. /Verse.org/Simulation

param_type<public> := enum{ Scalar, Texture }
parameter_entry := class<concrete>():
    @editable ParameterID:string = ""
    @editable PropertyID:prop_path = prop_path{}

texture_setter<public> := class(). FN<public>(Tex:texture):void={}
scalar_setter<public> := class(). FN<public>(F:float):void={}

material_instance<public> := class():
    Material<public>:material
    ScalarSetterMap<public>:[string]scalar_setter = map{}
    TextureSetterMap<public>:[string]texture_setter = map{}
    TextureMaps<public>:[string][string]texture = map{}
material_controller := class():
    CurrentMaterial:material_instance
    GetParamType<public>(ID:string)<transacts>:?param_type=
        if (Type := CurrentMaterial.TextureSetterMap[ID]). option. param_type.Texture
        else if (Type := CurrentMaterial.ScalarSetterMap[ID]). option. param_type.Scalar
        else. false
    GetScalarSetter<public>(ID:string)<transacts>:?scalar_setter=
        if (Setter := CurrentMaterial.ScalarSetterMap[ID]). option. Setter
        else. false
    GetTextureSetter<public>(ID:string)<transacts>:?texture_setter=
        if (Setter := CurrentMaterial.TextureSetterMap[ID]). option. Setter
        else. false
    GetTextures<public>(ID:string)<transacts>:?[string]texture=
        if (Textures := CurrentMaterial.TextureMaps[ID]). option. Textures else. false
