import firebase from 'firebase-admin'
import createDb from '@rampant-firebase/db'

// eslint-disable-next-line import/no-unresolved
import serviceAccount from './firebase-key.json'

export default ({ id, logger }) => {
    firebase.initializeApp({
        credential: firebase.credential.cert(serviceAccount),
        databaseURL: `https://${id}.firebaseio.com`,
    })
    const db = firebase.firestore()
    return createDb({ db, logger })
}
