export default ({ plugins }) => {
    const effectTypes = Object.values(plugins).reduce(
        (all, { effects = {} }) => ({
            ...all,
            ...effects,
        }),
        {}
    )

    return effect => {
        const { type = 'empty' } = effect
        const effectCreator = effectTypes[type]
        return effectCreator(effect)
    }
}
