import argv from 'argv'
import { logger, db } from '@rampant/ai'

argv.version('v0.0.0')
argv.info(
    'Grab negative samples from project and move them to -negative- intent.'
)

argv.option([
    {
        name: 'name',
        short: 'n',
        type: 'string',
        description: 'Name of the project to train',
        example: '--name=channel-name',
    },
])

const {
    options: { name },
} = argv.run()

if (!name) {
    logger.error('Project required!')
    process.exit(1)
}

db.get(`projects/${name}`).then(({ noIntentSamples }) =>
    db.set(`projects/${name}/training/-negative-`, {
        samples: noIntentSamples,
    })
)
