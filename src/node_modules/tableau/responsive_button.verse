
using { /Fortnite.com/UI }
using { /UnrealEngine.com/Temporary/UI }

responsive_button<public> := class():
    GooeyText<public>:gooey_message
    GooeyEnabled<public>:gooey_bool
    Button<public>:text_button_base
    Action<public>:type{_():void}

    Initialize<public>()<suspends>:void=
        Button.SetText(GooeyText.Get())
        Button.OnClick().Subscribe(OnPressed)
        loop:
            if (1 = 0). break
            race:
                block:
                    Msg := GooeyText.UpdatedEvent().Await()
                    Button.SetText(Msg)
                block:
                    Enabled := GooeyEnabled.UpdatedEvent().Await()
                    Button.SetEnabled(Enabled)

    OnPressed(Msg:widget_message):void = Action()
