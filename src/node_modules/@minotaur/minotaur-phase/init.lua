local poiApi = require(script:GetCustomProperty("APIPointOfInterest"))
local weaponWaypoint = script:GetCustomProperty("PointOfInterest"):WaitForObject()

local weaponWaypointHandle = 1
print('setup minotaur phase')
Events.Connect('PointOfInterestAdded', function(handle, poi)
    print('poi added')
    print(handle, poi)
    if (poi.name == weaponWaypoint.name) then
        weaponWaypointHandle = handle
    end
end)
print('hooked up point of interest handler')
Events.Connect('weapon-spawned', function(weaponRef)
    local weapon = weaponRef:WaitForObject()
    weapon.equippedEvent:Connect(function(equipment, player)
        poiApi.RemovePointOfInterest(weaponWaypointHandle)
    end)
end)
