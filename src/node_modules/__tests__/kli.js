import withBlueTape from 'blue-tape';
import describe from 'tape-bdd';
import kli from 'kli';

describe(
    'KLI',
    it => {
        it('should error when no commands are given', assert =>
            assert.throws(() => kli(), 'No commands defined'));

        it('should error when commands is not an array', assert =>
            assert.throws(
                () => kli({ commands: {} }),
                'Commands must be an array',
            ));

        it('should have an execute command', assert => {
            const cli = kli({
                commands: [
                    {
                        name: 'test',
                        run: () => assert.pass(),
                    },
                ],
            });
            assert.ok(cli.execute);
        });
    },
    withBlueTape,
);
