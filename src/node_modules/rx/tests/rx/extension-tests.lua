local expect, printed = require'rx-test'()
local rx, _, util = require'rxcore'()
local global = require('lua-global')
local assert = require('luassert')

local eventsMock = {
    Connect = function(name, handler)
        handler(name)
        return { Disconnect = util.noop }
    end,
}

global('Events', eventsMock)

describe('Rx Extensions', function()
    describe('init()', function()

        it('accesses a new creation operator from an extension library', function()
            local test_ = rx.fromEvent('generate-maze').pipe(_.take(1))
            --
            expect(test_).to.produce('generate-maze')
        end)

    end)
end)
