local expect, printed = require'rx-test'()
local rx, _ = require'rx'()

describe('Observable Basics', function()
    describe('subscribe()', function()

        it('accepts a basic table allowing for trailing commas', function()
            local test_ = rx.merge(rx.of('hello', 'roar'), rx.of('world'), rx.of('test'))
            --
            test_.subscribe({print, nil, print})
            printed(5)
        end)

        it('multicasts by default', function()
            local test_ = rx.of('hello').pipe(_.log())
            --
            test_.subscribe()
            test_.subscribe()
            printed(1)
        end)

    end)
end)
