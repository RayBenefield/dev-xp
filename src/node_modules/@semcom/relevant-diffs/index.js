import * as R from 'ramda'
import log from '@dev-xp/log'

export default () => ({ filesToCommit = [], diffs = [] } = {}) => {
    const getFiles = diff =>
        R.pair(
            R.view(R.lensProp('oldPath'), diff),
            R.view(R.lensProp('newPath'), diff)
        )
    return R.filter(
        R.pipe(getFiles, R.intersection(filesToCommit), R.length, R.lt(0))
    )(diffs)
}
