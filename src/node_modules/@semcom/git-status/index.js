import merge from '@transmutation/merging-function'

const status = {
    '?-?': 'untracked',
    'M-M': 'partial',
    'M- ': 'staged',
    'A- ': 'staged',
    ' -M': 'modified',
}

const getStatus = ({ index, workingDir }) => status[`${index}-${workingDir}`]
const getFileStatus = file => ({ [getStatus(file)]: [file.path] })

export default ({ files = [] }) => files.map(getFileStatus).reduce(merge, {})
