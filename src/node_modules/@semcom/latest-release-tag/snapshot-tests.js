import describe from 'kape';
import latestReleaseTag from '@semcom/latest-release-tag';

describe('Latest Release Tag', latestReleaseTag, snapshot => {
    snapshot(given =>
        given(
            [],
            [{ tags: [] }],
            [{ tags: [{ random: 'stuff' }] }],
            [
                {
                    tags: [
                        {
                            tag: '#1(PR-148)',
                            releaseNumber: '1',
                            pullRequestNumber: '148',
                        },
                    ],
                },
            ],
            [
                {
                    tags: [
                        {
                            tag: '#2(PR-248)',
                            releaseNumber: '2',
                            pullRequestNumber: '248',
                        },
                        {
                            tag: '#1(PR-148)',
                            releaseNumber: '1',
                            pullRequestNumber: '148',
                        },
                    ],
                },
            ],
            [
                {
                    tags: [
                        {
                            tag: '#2(PR-248)',
                            releaseNumber: '2',
                            pullRequestNumber: '248',
                        },
                        {
                            tag: '#3(PR-248)',
                            releaseNumber: '3',
                            pullRequestNumber: '348',
                        },
                    ],
                },
            ],
        ),
    );
});
