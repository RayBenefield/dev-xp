import describe from 'kape'
import dedent from 'dedent'
import parse from '@entyre/parse-sfp'

describe('Parse Single File Package', parse, snapshot => {
    snapshot(
        [],
        [{ content: '' }],
        [
            {
                content: dedent`
        # Testing

        \`\`\`js
        console.log('hello')
        \`\`\`
    `,
            },
        ],
        [
            {
                content: dedent`
        # Testing

        \`\`\`js
        console.log('first')
        \`\`\`

        \`\`\`js
        console.log('second')
        \`\`\`
    `,
            },
        ],
        [
            {
                content: dedent`
        # Testing

        \`\`\`js
        console.log('first')
        \`\`\`

        ## Second header

        \`\`\`js
        console.log('second')
        \`\`\`
    `,
            },
        ],
        [
            {
                content: dedent`
        ---
        description: This is a description.
        version: 0.0.1
        ---

        # Testing

        \`\`\`js
        console.log('first')
        \`\`\`

        ## Second header

        \`\`\`js
        console.log('second')
        \`\`\`
    `,
            },
        ]
    )
})
