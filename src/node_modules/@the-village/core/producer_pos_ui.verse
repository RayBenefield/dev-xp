
using { /Fortnite.com/UI }
using { /Verse.org/Simulation }
using { /Verse.org/Colors/NamedColors }
using { /UnrealEngine.com/Temporary/UI }
using { /UnrealEngine.com/Temporary/SpatialMath }

using { Tableau }
using { TableauResource }

producer_pos_vm<public> := class():
    ID<public>:string
    Name<public>:gooey_string = gooey_string{}
    Cost<public>:gooey_string = gooey_string{}
    Count<public>:gooey_string = gooey_string{}
    Production<public>:gooey_string = gooey_string{}
    Affordable<public>:gooey_bool = gooey_bool{}
    Buy<public>:type{_():void}

buy_producer_ui<public> := class():
    VM<public>:producer_pos_vm

    Initialize<public>():[]widget =
        BuyButton := responsive_button:
            GooeyText := VM.Name
            GooeyEnabled := VM.Affordable
            Button := button_regular{}
            Action := VM.Buy
        CostText := responsive_text_block:
            GooeyText := VM.Cost
            TextBlock := WhiteText()
        CountText:= responsive_text_block:
            GooeyText := VM.Count
            TextBlock := WhiteText()
        ProdText := responsive_text_block:
            GooeyText := VM.Production
            TextBlock := WhiteText()

        return array:
            BuyButton.Initialize()
            CostText.Initialize()
            CountText.Initialize()
            ProdText.Initialize()

producer_pos_ui<public> := class(game_hud):
    VMs<public>:[]producer_pos_vm
    HUDSettings<public>:canvas_settings = canvas_settings{}

    Initialize<override>():widget=
        ProducerUIs:[]buy_producer_ui = for(VM:VMs). buy_producer_ui. VM := VM
        Widgets:[]widget = Concatenate(for(ProducerUI:ProducerUIs). ProducerUI.Initialize())
        stack_box:
            Orientation := orientation.Vertical
            Slots := for(Widget:Widgets):
                stack_box_slot:
                    Widget := Widget
                    HorizontalAlignment := if (HUDSettings.Offsets.HorizontalPadding >= 0.0):
                        horizontal_alignment.Left
                    else. horizontal_alignment.Right
